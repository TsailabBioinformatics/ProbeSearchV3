import{o as r,c as l,w as x,v as T,a as t,t as m,b as u,d as R,p as y,e as w,f as k,r as p,F as C,g as F,h as g,i as G,j as z,k as B,l as D}from"./vendor.569a1202.js";const E=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}};E();var L="/assets/aspendb_bw2.6daa9f62.png";var f=(n,e)=>{const i=n.__vccOpts||n;for(const[a,s]of e)i[a]=s;return i};const N={name:"SequenceForm",data(){return{read:"",mismatches:5,error:"",loading:!1}},methods:{submit(){const n=/[^ATGC]/i;this.read.search(n)!==-1?this.error="only DNA sequences valid":this.read.length<17?this.error="input a DNA sequence of length 17 or higher":(this.error="",this.loading=!0,this.read=this.read.toUpperCase(),this.$emit("valid"))}},emits:["valid"]},_=n=>(y("data-v-6e8a9857"),n=n(),w(),n),V={class:"parent"},q=R('<div style="display:flex;justify-content:center;margin:0;" data-v-6e8a9857><a href="http://aspendb.uga.edu/" target="_blank" data-v-6e8a9857><img src="'+L+'" style="opacity:0.9;" width="100" height="60  " data-v-6e8a9857></a></div><div class="divider" data-v-6e8a9857></div><p style="width:fit-content;padding:0 1%;border-radius:3px;background-color:#f2f2f2;" data-v-6e8a9857>input primer/probe/gRNA sequence and query the <b style="font-weight:bolder;" data-v-6e8a9857>sPta717V2.0</b> genome</p>',3),O={style:{display:"flex","flex-direction":"column"}},j=_(()=>t("p",{style:{width:"fit-content",padding:"0 1%","border-radius":"3px","background-color":"#f2f2f2"}},"set mismatch number (per subgenome)",-1)),P=_(()=>t("label",null,"max",-1)),Y=_(()=>t("p",null,"search",-1)),M=[Y],U={key:0,class:"error"},H={style:{width:"fit-content","background-color":"#f5f5f7","border-radius":"2px",padding:"0 1%"}},K={style:{height:"9px",display:"flex","justify-content":"center","align-items":"center"}},J={key:0,class:"lds-ellipsis"},Q=_(()=>t("div",null,null,-1)),W=_(()=>t("div",null,null,-1)),X=_(()=>t("div",null,null,-1)),Z=_(()=>t("div",null,null,-1)),ee=[Q,W,X,Z];function te(n,e,i,a,s,o){return r(),l("div",V,[q,x(t("textarea",{rows:"2",placeholder:"GGGTTCTGCCAATTTAAGCCACATGGCTCAATGGGAGA","onUpdate:modelValue":e[0]||(e[0]=d=>s.read=d)},null,512),[[T,s.read]]),t("div",O,[t("div",null,[j,x(t("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>s.mismatches=d),type:"number",class:"mismatch"},null,512),[[T,s.mismatches]]),P]),t("button",{onClick:e[2]||(e[2]=d=>o.submit())},M),s.error!=""?(r(),l("div",U,[t("div",H,[t("p",null,m(s.error),1)])])):u("",!0),t("div",K,[s.loading===!0?(r(),l("div",J,ee)):u("",!0)])])])}var se=f(N,[["render",te],["__scopeId","data-v-6e8a9857"]]);const ne={name:"AlignmentResult",props:["header","data","id","total"],methods:{swapleft(){this.$emit("swap-left")},swapright(){this.$emit("swap-right")},reload(){window.location.reload(),window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop},maximize(){this.$emit("fullscreen")},get_deck(){this.$emit("deck")},download(){}},emits:["swap-left","swap-right","fullscreen","deck"]},v=n=>(y("data-v-5dddd8f8"),n=n(),w(),n),oe={class:"parent"},ie=v(()=>t("p",{class:"instruction"}," maximize ",-1)),re=v(()=>t("p",{class:"instruction"}," card deck ",-1)),de={class:"header"},le={key:1},ae=v(()=>t("p",{class:"instruction"}," previous result ",-1)),ce={key:0},ue={key:1},me=v(()=>t("p",{class:"instruction"}," next result ",-1)),_e={style:{width:"100%",height:"fit-content",display:"flex","justify-content":"center","align-items":"flex-start","flex-direction":"column","white-space":"pre"}},he={style:{"margin-bottom":"2%"}},pe=v(()=>t("h3",{style:{"margin-bottom":"2%"}},"only the top 50 hits are shown",-1)),fe=v(()=>t("div",{class:"divider"},null,-1)),ve=k("        "),ge={class:"res"},ye=k(`\r
    `),we={class:"footer"};function ke(n,e,i,a,s,o){return r(),l("div",oe,[t("p",{class:"maximize",onClick:e[0]||(e[0]=d=>o.maximize())}," \u26F6 "),ie,t("p",{class:"cards",onClick:e[1]||(e[1]=d=>o.get_deck())}," \u{1F0A0} "),re,t("div",de,[t("div",null,[i.id>1?(r(),l("p",{key:0,class:"swap-left",onClick:e[2]||(e[2]=d=>o.swapleft())}," < ")):(r(),l("p",le," \xA0 ")),ae]),this.total>1?(r(),l("h3",ce,"Alignment Result "+m(i.id),1)):u("",!0),t("div",null,[i.id<i.total?(r(),l("p",{key:0,class:"swap-right",onClick:e[3]||(e[3]=d=>o.swapright())}," > ")):(r(),l("p",ue," \xA0")),me])]),t("div",_e,[t("h3",he,m(i.header),1),pe]),fe,t("pre",null,[ve,t("p",ge,m(i.data),1),ye]),t("div",we,[t("p",{class:"search-again",onClick:e[4]||(e[4]=(...d)=>o.reload&&o.reload(...d))}," search again ")])])}var $e=f(ne,[["render",ke],["__scopeId","data-v-5dddd8f8"]]);const be={name:"FocusedResult",props:["header","data"],methods:{minimize(){this.$emit("back")}},emits:["back"]},S=n=>(y("data-v-6560f040"),n=n(),w(),n),xe={class:"parent"},Ce=S(()=>t("p",{class:"instruction"}," minimize ",-1)),Ae={style:{width:"100%",height:"fit-content",display:"flex","justify-content":"center","align-items":"center","white-space":"pre"}},Te=S(()=>t("div",{class:"divider"},null,-1)),ze=k("            "),Fe={style:{"font-family":"'DM Mono', monospace","font-size":"16px"}},Se=k(`\r
        `);function Ie(n,e,i,a,s,o){return r(),l("div",xe,[t("p",{class:"minimize",onClick:e[0]||(e[0]=d=>o.minimize())}," \u26F6 "),Ce,t("div",Ae,[t("h3",null,m(i.header),1)]),Te,t("pre",null,[ze,t("p",Fe,m(i.data),1),Se])])}var I=f(be,[["render",Ie],["__scopeId","data-v-6560f040"]]);const Re={name:"Card",props:["title","id","header","result"],methods:{maximize(){this.$emit("fullscreen")}},emits:["fullscreen"]};function Ge(n,e,i,a,s,o){return r(),l("div",{class:"card",onClick:e[0]||(e[0]=d=>o.maximize())},[t("h3",null,m(i.title),1)])}var Be=f(Re,[["render",Ge],["__scopeId","data-v-738e587c"]]);const De={name:"Deck",data(){return{show:0,fullscreen:!1}},components:{Card:Be,FocusedResult:I},props:["count","dbnames","headers","results"],methods:{goback(){this.$emit("back")},maximize(n){this.show=n,this.fullscreen=!0,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop},minimize_screen(){this.fullscreen=!1,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}},emits:["back"]},Ee=n=>(y("data-v-2e3100ff"),n=n(),w(),n),Le={key:0,style:{width:"100%"}},Ne=Ee(()=>t("p",{class:"instruction"}," go back ",-1)),Ve={key:1,class:"board"},qe={class:"spread"};function Oe(n,e,i,a,s,o){const d=p("Card"),$=p("FocusedResult");return r(),l(C,null,[this.fullscreen==!1?(r(),l("div",Le,[t("h3",{class:"goback",onClick:e[0]||(e[0]=h=>o.goback())}," \u2190 "),Ne])):u("",!0),this.fullscreen==!1?(r(),l("div",Ve,[t("div",qe,[(r(!0),l(C,null,F(i.count,h=>(r(),g(d,{title:n.s717v2,id:h,onFullscreen:A=>o.maximize(h)},null,8,["title","id","onFullscreen"]))),256))])])):u("",!0),this.fullscreen==!0?(r(),g($,{key:2,header:i.headers[this.show-1],data:i.results[this.show-1],onBack:e[1]||(e[1]=h=>o.minimize_screen())},null,8,["header","data"])):u("",!0)],64)}var je=f(De,[["render",Oe],["__scopeId","data-v-2e3100ff"]]);const Pe={name:"Home",components:{SequenceForm:se,AlignmentResult:$e,FocusedResult:I,Deck:je},data(){return{count:1,results:[],headers:[],show:0,fullscreen:!1,deck:!1}},methods:{async run(){const n={read:this.$refs.form.$data.read,db:"sPta717V2.0",mismatches:this.$refs.form.$data.mismatches},e=await G.put("/",n);this.headers[0]="input read:		"+this.$refs.form.$data.read+`
read length:	`+this.$refs.form.$data.read.length+`
database:		sPta717V2.0
`,this.results[0]=e.data,this.show=1,this.$refs.form.$data.loading=!1},switch_screen(n){document.getElementById("page").classList.add("focused"),document.getElementById("main").classList.add("blur"),n==="fullscreen"?this.fullscreen=!0:this.deck=!0,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop},minimize_screen(){document.getElementById("main").classList.remove("blur"),document.getElementById("page").classList.remove("focused"),this.fullscreen=!1,this.deck=!1,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}}},Ye={id:"page",style:{width:"100%",margin:"0",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},Me={id:"main",class:"main"};function Ue(n,e,i,a,s,o){const d=p("SequenceForm"),$=p("AlignmentResult"),h=p("FocusedResult"),A=p("Deck");return r(),l("div",Ye,[t("div",Me,[z(d,{ref:"form",onValid:e[0]||(e[0]=c=>o.run())},null,512),(r(!0),l(C,null,F(this.count,c=>x((r(),l("div",{key:c},[z($,{id:c,data:s.results[c-1],total:this.count,header:s.headers[c-1],onSwapLeft:e[1]||(e[1]=b=>this.show--),onSwapRight:e[2]||(e[2]=b=>this.show++),onFullscreen:e[3]||(e[3]=b=>o.switch_screen("fullscreen")),onDeck:e[4]||(e[4]=b=>o.switch_screen("deck"))},null,8,["id","data","total","header"])])),[[B,c===this.show]])),128))]),this.fullscreen==!0?(r(),g(h,{key:0,header:s.headers[this.show-1],data:s.results[this.show-1],onBack:e[5]||(e[5]=c=>o.minimize_screen())},null,8,["header","data"])):u("",!0),this.deck==!0?(r(),g(A,{key:1,count:this.count,headers:s.headers,results:s.results,onBack:e[6]||(e[6]=c=>o.minimize_screen())},null,8,["count","headers","results"])):u("",!0)])}var He=f(Pe,[["render",Ue]]);D(He).mount("#app");
