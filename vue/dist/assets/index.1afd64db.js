import{o as r,c as d,w as _,v as V,a as t,b as y,t as p,d as m,e as R,p as k,f as w,g as $,r as f,F as A,h as F,i as b,j as G,k as z,l as P,m as D}from"./vendor.16aa5e45.js";const B=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function l(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(s){if(s.ep)return;s.ep=!0;const o=l(s);fetch(s.href,o)}};B();var E="/assets/aspendb_bw2.6daa9f62.png";var v=(n,e)=>{const l=n.__vccOpts||n;for(const[c,s]of e)l[c]=s;return l};const L={name:"SequenceForm",data(){return{read:"",db:[],mismatches:5,error:"",loading:!1}},methods:{submit(){const n=/[^ATGC]/i;this.read.search(n)!==-1?this.error="only DNA sequences valid":this.read.length<17?this.error="input a DNA sequence of length 17 or higher":this.db.length===0?this.error="select a database":(this.error="",this.loading=!0,this.read=this.read.toUpperCase(),this.$emit("valid"))}},emits:["valid"]},a=n=>(k("data-v-27cbe5ac"),n=n(),w(),n),N={class:"parent"},q=R('<div style="display:flex;justify-content:center;margin:0;" data-v-27cbe5ac><a href="http://aspendb.uga.edu/" target="_blank" data-v-27cbe5ac><img src="'+E+'" style="opacity:0.9;" width="100" height="60  " data-v-27cbe5ac></a></div><div class="divider" data-v-27cbe5ac></div><p style="width:fit-content;padding:0 1%;border-radius:3px;background-color:#f2f2f2;" data-v-27cbe5ac>input primer/probe/gRNA sequence</p>',3),O=a(()=>t("div",{style:{display:"flex","align-items":"center"}},[t("p",{style:{width:"fit-content",padding:"0 1%","border-radius":"3px","background-color":"#f2f2f2"}},"select one or more genomes")],-1)),U={style:{display:"flex","flex-direction":"column"}},j={class:"checkboxes"},M=a(()=>t("label",null,"P. trichocarpa V3.1",-1)),Y=a(()=>t("label",null,"P. trichocarpa V4.0",-1)),H=a(()=>t("label",null,"P. deltoides WV94 V2.1",-1)),W=a(()=>t("label",{for:"717V5"},"P. tremula x alba 717 V5.1",-1)),X=a(()=>t("p",{style:{width:"fit-content",padding:"0 1%","border-radius":"3px","background-color":"#f2f2f2"}},"set mismatch number",-1)),J=a(()=>t("label",null,"max",-1)),K=a(()=>t("p",null,"search",-1)),Q=[K],Z={key:0,class:"error"},ee={style:{width:"fit-content","background-color":"#f5f5f7","border-radius":"2px",padding:"0 1%"}},te={style:{height:"9px",display:"flex","justify-content":"center","align-items":"center"}},se={key:0,class:"lds-ellipsis"},ne=a(()=>t("div",null,null,-1)),oe=a(()=>t("div",null,null,-1)),ie=a(()=>t("div",null,null,-1)),le=a(()=>t("div",null,null,-1)),re=[ne,oe,ie,le];function de(n,e,l,c,s,o){return r(),d("div",N,[q,_(t("textarea",{rows:"2",placeholder:"GGGTTCTGCCAATTTAAGCCACATGGCTCAATGGGAGA","onUpdate:modelValue":e[0]||(e[0]=i=>s.read=i)},null,512),[[V,s.read]]),O,t("div",U,[t("div",j,[t("div",null,[_(t("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>s.db=i),type:"checkbox",value:"PtrichocarpaV3.1"},null,512),[[y,s.db]]),M]),t("div",null,[_(t("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>s.db=i),type:"checkbox",value:"PtrichocarpaV4.0"},null,512),[[y,s.db]]),Y]),t("div",null,[_(t("input",{"onUpdate:modelValue":e[3]||(e[3]=i=>s.db=i),type:"checkbox",value:"DeltoidesWV94"},null,512),[[y,s.db]]),H]),t("div",null,[_(t("input",{"onUpdate:modelValue":e[4]||(e[4]=i=>s.db=i),type:"checkbox",name:"717V5",value:"717V5"},null,512),[[y,s.db]]),W])]),t("div",null,[X,_(t("input",{"onUpdate:modelValue":e[5]||(e[5]=i=>s.mismatches=i),type:"number",class:"mismatch"},null,512),[[V,s.mismatches]]),J]),t("button",{onClick:e[6]||(e[6]=i=>o.submit())},Q),s.error!=""?(r(),d("div",Z,[t("div",ee,[t("p",null,p(s.error),1)])])):m("",!0),t("div",te,[s.loading===!0?(r(),d("div",se,re)):m("",!0)])])])}var ae=v(L,[["render",de],["__scopeId","data-v-27cbe5ac"]]);const ce={name:"AlignmentResult",props:["header","data","id","total"],methods:{swapleft(){this.$emit("swap-left")},swapright(){this.$emit("swap-right")},reload(){window.location.reload(),window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop},maximize(){this.$emit("fullscreen")},get_deck(){this.$emit("deck")},download(){}},emits:["swap-left","swap-right","fullscreen","deck"]},g=n=>(k("data-v-5dddd8f8"),n=n(),w(),n),ue={class:"parent"},me=g(()=>t("p",{class:"instruction"}," maximize ",-1)),he=g(()=>t("p",{class:"instruction"}," card deck ",-1)),_e={class:"header"},pe={key:1},fe=g(()=>t("p",{class:"instruction"}," previous result ",-1)),ve={key:0},ge={key:1},ye=g(()=>t("p",{class:"instruction"}," next result ",-1)),be={style:{width:"100%",height:"fit-content",display:"flex","justify-content":"center","align-items":"flex-start","flex-direction":"column","white-space":"pre"}},ke={style:{"margin-bottom":"2%"}},we=g(()=>t("h3",{style:{"margin-bottom":"2%"}},"only the top 50 hits are shown",-1)),$e=g(()=>t("div",{class:"divider"},null,-1)),xe=$("        "),Ce={class:"res"},Ae=$(`\r
    `),Te={class:"footer"};function Ve(n,e,l,c,s,o){return r(),d("div",ue,[t("p",{class:"maximize",onClick:e[0]||(e[0]=i=>o.maximize())}," \u26F6 "),me,t("p",{class:"cards",onClick:e[1]||(e[1]=i=>o.get_deck())}," \u{1F0A0} "),he,t("div",_e,[t("div",null,[l.id>1?(r(),d("p",{key:0,class:"swap-left",onClick:e[2]||(e[2]=i=>o.swapleft())}," < ")):(r(),d("p",pe," \xA0 ")),fe]),this.total>1?(r(),d("h3",ve,"Alignment Result "+p(l.id),1)):m("",!0),t("div",null,[l.id<l.total?(r(),d("p",{key:0,class:"swap-right",onClick:e[3]||(e[3]=i=>o.swapright())}," > ")):(r(),d("p",ge," \xA0")),ye])]),t("div",be,[t("h3",ke,p(l.header),1),we]),$e,t("pre",null,[xe,t("p",Ce,p(l.data),1),Ae]),t("div",Te,[t("p",{class:"search-again",onClick:e[4]||(e[4]=(...i)=>o.reload&&o.reload(...i))}," search again ")])])}var ze=v(ce,[["render",Ve],["__scopeId","data-v-5dddd8f8"]]);const Fe={name:"FocusedResult",props:["header","data"],methods:{minimize(){this.$emit("back")}},emits:["back"]},I=n=>(k("data-v-6560f040"),n=n(),w(),n),Ie={class:"parent"},Se=I(()=>t("p",{class:"instruction"}," minimize ",-1)),Re={style:{width:"100%",height:"fit-content",display:"flex","justify-content":"center","align-items":"center","white-space":"pre"}},Ge=I(()=>t("div",{class:"divider"},null,-1)),Pe=$("            "),De={style:{"font-family":"'DM Mono', monospace","font-size":"16px"}},Be=$(`\r
        `);function Ee(n,e,l,c,s,o){return r(),d("div",Ie,[t("p",{class:"minimize",onClick:e[0]||(e[0]=i=>o.minimize())}," \u26F6 "),Se,t("div",Re,[t("h3",null,p(l.header),1)]),Ge,t("pre",null,[Pe,t("p",De,p(l.data),1),Be])])}var S=v(Fe,[["render",Ee],["__scopeId","data-v-6560f040"]]);const Le={name:"Card",props:["title","id","header","result"],methods:{maximize(){this.$emit("fullscreen")}},emits:["fullscreen"]};function Ne(n,e,l,c,s,o){return r(),d("div",{class:"card",onClick:e[0]||(e[0]=i=>o.maximize())},[t("h3",null,p(l.title),1)])}var qe=v(Le,[["render",Ne],["__scopeId","data-v-738e587c"]]);const Oe={name:"Deck",data(){return{show:0,fullscreen:!1}},components:{Card:qe,FocusedResult:S},props:["count","dbnames","headers","results"],methods:{goback(){this.$emit("back")},maximize(n){this.show=n,this.fullscreen=!0,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop},minimize_screen(){this.fullscreen=!1,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}},emits:["back"]},Ue=n=>(k("data-v-c444683a"),n=n(),w(),n),je={key:0,style:{width:"100%"}},Me=Ue(()=>t("p",{class:"instruction"}," go back ",-1)),Ye={key:1,class:"board"},He={class:"spread"};function We(n,e,l,c,s,o){const i=f("Card"),x=f("FocusedResult");return r(),d(A,null,[this.fullscreen==!1?(r(),d("div",je,[t("h3",{class:"goback",onClick:e[0]||(e[0]=h=>o.goback())}," \u2190 "),Me])):m("",!0),this.fullscreen==!1?(r(),d("div",Ye,[t("div",He,[(r(!0),d(A,null,F(l.count,h=>(r(),b(i,{title:l.dbnames[h-1],id:h,onFullscreen:T=>o.maximize(h)},null,8,["title","id","onFullscreen"]))),256))])])):m("",!0),this.fullscreen==!0?(r(),b(x,{key:2,header:l.headers[this.show-1],data:l.results[this.show-1],onBack:e[1]||(e[1]=h=>o.minimize_screen())},null,8,["header","data"])):m("",!0)],64)}var Xe=v(Oe,[["render",We],["__scopeId","data-v-c444683a"]]);const Je={name:"Home",components:{SequenceForm:ae,AlignmentResult:ze,FocusedResult:S,Deck:Xe},data(){return{count:0,results:[],headers:[],show:0,fullscreen:!1,deck:!1}},methods:{async run(){this.count=this.$refs.form.$data.db.length;for(var n=0;n<this.count;n++){const e={read:this.$refs.form.$data.read,db:this.$refs.form.$data.db[`${n}`],mismatches:this.$refs.form.$data.mismatches},l=await G.put("/",e);this.headers[n]="input read:		"+this.$refs.form.$data.read+`
read length:	`+this.$refs.form.$data.read.length+`
database:		`+this.$refs.form.$data.db[`${n}`]+`
`,this.$refs.form.$data.db[`${n}`]==="717V5"&&(this.headers[n]+=`
717v5.1 (haplotype resolved genome sequences from JGI)
T = P. tremula subgenome (PtXaTreH)
A = P. alba subgenome (PtXaAlbH)
`),this.results[n]=l.data}this.show=1,this.$refs.form.$data.loading=!1},switch_screen(n){document.getElementById("page").classList.add("focused"),document.getElementById("main").classList.add("blur"),n==="fullscreen"?this.fullscreen=!0:this.deck=!0,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop},minimize_screen(){document.getElementById("main").classList.remove("blur"),document.getElementById("page").classList.remove("focused"),this.fullscreen=!1,this.deck=!1,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}}},Ke={id:"page",style:{width:"100%",margin:"0",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},Qe={id:"main",class:"main"};function Ze(n,e,l,c,s,o){const i=f("SequenceForm"),x=f("AlignmentResult"),h=f("FocusedResult"),T=f("Deck");return r(),d("div",Ke,[t("div",Qe,[z(i,{ref:"form",onValid:e[0]||(e[0]=u=>o.run())},null,512),(r(!0),d(A,null,F(this.count,u=>_((r(),d("div",{key:u},[z(x,{id:u,data:s.results[u-1],total:this.count,header:s.headers[u-1],onSwapLeft:e[1]||(e[1]=C=>this.show--),onSwapRight:e[2]||(e[2]=C=>this.show++),onFullscreen:e[3]||(e[3]=C=>o.switch_screen("fullscreen")),onDeck:e[4]||(e[4]=C=>o.switch_screen("deck"))},null,8,["id","data","total","header"])])),[[P,u===this.show]])),128))]),this.fullscreen==!0?(r(),b(h,{key:0,header:s.headers[this.show-1],data:s.results[this.show-1],onBack:e[5]||(e[5]=u=>o.minimize_screen())},null,8,["header","data"])):m("",!0),this.deck==!0?(r(),b(T,{key:1,count:this.count,dbnames:this.$refs.form.$data.db,headers:s.headers,results:s.results,onBack:e[6]||(e[6]=u=>o.minimize_screen())},null,8,["count","dbnames","headers","results"])):m("",!0)])}var et=v(Je,[["render",Ze]]);D(et).mount("#app");
