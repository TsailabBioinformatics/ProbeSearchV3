import{o as d,c as l,w as u,v as T,a as t,b as v,t as h,d as p,e as P,p as w,f as $,g as f,r as b,F as C,h as F,i as k,j as R,k as z,l as D,m as G}from"./vendor.16aa5e45.js";const B=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}};B();var E="/assets/aspendb_bw2.6daa9f62.png";var g=(n,e)=>{const r=n.__vccOpts||n;for(const[a,s]of e)r[a]=s;return r};const L={name:"SequenceForm",data(){return{read:"",db:[],mismatches:5,error:""}},methods:{submit(){const n=/[^ATGC]/i;this.read.search(n)!==-1?this.error="only DNA sequences valid":this.read.length<17?this.error="input a DNA sequence of length 17 or higher":this.db.length===0?this.error="select a database":(this.error="",this.read=this.read.toUpperCase(),this.$emit("valid"))}},emits:["valid"]},c=n=>(w("data-v-f1d87a20"),n=n(),$(),n),N={class:"parent"},O=P('<div style="display:flex;justify-content:center;margin:0;" data-v-f1d87a20><a href="http://aspendb.uga.edu/" data-v-f1d87a20><img src="'+E+'" style="opacity:0.9;" width="100" height="60  " data-v-f1d87a20></a></div><div class="divider" data-v-f1d87a20></div><p style="width:fit-content;padding:0 1%;border-radius:3px;background-color:#f2f2f2;" data-v-f1d87a20>input primer/probe/gRNA sequence</p>',3),q=c(()=>t("div",{style:{display:"flex","align-items":"center"}},[t("p",{style:{width:"fit-content",padding:"0 1%","border-radius":"3px","background-color":"#f2f2f2"}},"select one or more genomes")],-1)),U={style:{display:"flex","flex-direction":"column"}},M={class:"checkboxes"},Y=c(()=>t("label",{for:"sPta717aV1"},"sPta717aV1",-1)),j=c(()=>t("label",{for:"sPta717tV1"},"sPta717tV1",-1)),W=c(()=>t("label",null,"PtrichocarpaV3.1",-1)),H=c(()=>t("label",null,"PtrichocarpaV4.0",-1)),K=c(()=>t("label",null,"DeltoidesWV94",-1)),J=c(()=>t("label",{for:"717V5"},"717V5",-1)),Q=c(()=>t("p",{style:{width:"fit-content",padding:"0 1%","border-radius":"3px","background-color":"#f2f2f2"}},"set mismatch number",-1)),X=c(()=>t("label",null,"max",-1)),Z=c(()=>t("p",null,"search",-1)),ee=[Z],te={key:0,class:"error"},se={style:{width:"fit-content","background-color":"#f5f5f7","border-radius":"2px",padding:"0 1%"}};function ne(n,e,r,a,s,o){return d(),l("div",N,[O,u(t("textarea",{rows:"2",placeholder:"GGGTTCTGCCAATTTAAGCCACATGGCTCAATGGGAGA","onUpdate:modelValue":e[0]||(e[0]=i=>s.read=i)},null,512),[[T,s.read]]),q,t("div",U,[t("div",M,[t("div",null,[u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>s.db=i),type:"checkbox",name:"sPta71a7V1",value:"sPta717aV1"},null,512),[[v,s.db]]),Y]),t("div",null,[u(t("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>s.db=i),type:"checkbox",name:"sPta717tV1",value:"sPta717tV1"},null,512),[[v,s.db]]),j]),t("div",null,[u(t("input",{"onUpdate:modelValue":e[3]||(e[3]=i=>s.db=i),type:"checkbox",value:"PtrichocarpaV3.1"},null,512),[[v,s.db]]),W]),t("div",null,[u(t("input",{"onUpdate:modelValue":e[4]||(e[4]=i=>s.db=i),type:"checkbox",value:"PtrichocarpaV4.0"},null,512),[[v,s.db]]),H]),t("div",null,[u(t("input",{"onUpdate:modelValue":e[5]||(e[5]=i=>s.db=i),type:"checkbox",value:"DeltoidesWV94"},null,512),[[v,s.db]]),K]),t("div",null,[u(t("input",{"onUpdate:modelValue":e[6]||(e[6]=i=>s.db=i),type:"checkbox",name:"717V5",value:"717V5"},null,512),[[v,s.db]]),J])]),t("div",null,[Q,u(t("input",{"onUpdate:modelValue":e[7]||(e[7]=i=>s.mismatches=i),type:"number",class:"mismatch"},null,512),[[T,s.mismatches]]),X]),t("button",{onClick:e[8]||(e[8]=i=>o.submit())},ee),s.error!=""?(d(),l("div",te,[t("div",se,[t("p",null,h(s.error),1)])])):p("",!0)])])}var oe=g(L,[["render",ne],["__scopeId","data-v-f1d87a20"]]);const ie={name:"AlignmentResult",props:["header","data","id","total"],methods:{swapleft(){this.$emit("swap-left")},swapright(){this.$emit("swap-right")},reload(){window.location.reload(),window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop},maximize(){this.$emit("fullscreen")},get_deck(){this.$emit("deck")},download(){}},emits:["swap-left","swap-right","fullscreen","deck"]},y=n=>(w("data-v-626f5a00"),n=n(),$(),n),re={class:"parent"},de=y(()=>t("p",{class:"instruction"}," maximize ",-1)),le=y(()=>t("p",{class:"instruction"}," card deck ",-1)),ae={class:"header"},ce={key:1},ue=y(()=>t("p",{class:"instruction"}," previous result ",-1)),me={key:0},_e={key:1},he=y(()=>t("p",{class:"instruction"}," next result ",-1)),pe={style:{"white-space":"pre"}},fe=f("        "),ve={class:"header-words"},be=f(`\r
only the top 50 hits are shown`),ge=f(`\r
    `),ye=y(()=>t("div",{class:"divider"},null,-1)),ke=f("        "),we={class:"res"},$e=f(`\r
    `),xe={class:"footer"};function Ve(n,e,r,a,s,o){return d(),l("div",re,[t("p",{class:"maximize",onClick:e[0]||(e[0]=i=>o.maximize())}," \u26F6 "),de,t("p",{class:"cards",onClick:e[1]||(e[1]=i=>o.get_deck())}," \u{1F0A0} "),le,t("div",ae,[t("div",null,[r.id>1?(d(),l("p",{key:0,class:"swap-left",onClick:e[2]||(e[2]=i=>o.swapleft())}," < ")):(d(),l("p",ce," \xA0 ")),ue]),this.total>1?(d(),l("h3",me,"Alignment Result "+h(r.id),1)):p("",!0),t("div",null,[r.id<r.total?(d(),l("p",{key:0,class:"swap-right",onClick:e[3]||(e[3]=i=>o.swapright())}," > ")):(d(),l("p",_e," \xA0")),he])]),t("pre",pe,[fe,t("h3",ve,[t("b",null,h(r.header),1),be]),ge]),ye,t("pre",null,[ke,t("p",we,h(r.data),1),$e]),t("div",xe,[t("p",{class:"search-again",onClick:e[4]||(e[4]=(...i)=>o.reload&&o.reload(...i))}," search again ")])])}var Ce=g(ie,[["render",Ve],["__scopeId","data-v-626f5a00"]]);const Ae={name:"FocusedResult",props:["header","data"],methods:{minimize(){this.$emit("back")},download(){}},emits:["back"]},S=n=>(w("data-v-4bf58a0a"),n=n(),$(),n),Te={class:"parent"},ze=S(()=>t("p",{class:"instruction"}," minimize ",-1)),Fe={style:{width:"100%",height:"fit-content",display:"flex","justify-content":"center","align-items":"center","white-space":"pre"}},Se=S(()=>t("div",{class:"divider"},null,-1)),Ie=f("            "),Pe={style:{"font-family":"'DM Mono', monospace","font-size":"16px"}},Re=f(`\r
        `);function De(n,e,r,a,s,o){return d(),l("div",Te,[t("p",{class:"minimize",onClick:e[0]||(e[0]=i=>o.minimize())}," \u26F6 "),ze,t("div",Fe,[t("h3",null,h(r.header),1)]),Se,t("pre",null,[Ie,t("p",Pe,h(r.data),1),Re])])}var I=g(Ae,[["render",De],["__scopeId","data-v-4bf58a0a"]]);const Ge={name:"Card",props:["title","id","header","result"],methods:{maximize(){this.$emit("fullscreen")}},emits:["fullscreen"]};function Be(n,e,r,a,s,o){return d(),l("div",{class:"card",onClick:e[0]||(e[0]=i=>o.maximize())},[t("h3",null,h(r.title),1)])}var Ee=g(Ge,[["render",Be],["__scopeId","data-v-738e587c"]]);const Le={name:"Deck",data(){return{show:0,fullscreen:!1}},components:{Card:Ee,FocusedResult:I},props:["count","dbnames","headers","results"],methods:{goback(){this.$emit("back")},maximize(n){this.show=n,this.fullscreen=!0,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop},minimize_screen(){this.fullscreen=!1,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}},emits:["back"]},Ne=n=>(w("data-v-c444683a"),n=n(),$(),n),Oe={key:0,style:{width:"100%"}},qe=Ne(()=>t("p",{class:"instruction"}," go back ",-1)),Ue={key:1,class:"board"},Me={class:"spread"};function Ye(n,e,r,a,s,o){const i=b("Card"),x=b("FocusedResult");return d(),l(C,null,[this.fullscreen==!1?(d(),l("div",Oe,[t("h3",{class:"goback",onClick:e[0]||(e[0]=_=>o.goback())}," \u2190 "),qe])):p("",!0),this.fullscreen==!1?(d(),l("div",Ue,[t("div",Me,[(d(!0),l(C,null,F(r.count,_=>(d(),k(i,{title:r.dbnames[_-1],id:_,onFullscreen:A=>o.maximize(_)},null,8,["title","id","onFullscreen"]))),256))])])):p("",!0),this.fullscreen==!0?(d(),k(x,{key:2,header:r.headers[this.show-1],data:r.results[this.show-1],onBack:e[1]||(e[1]=_=>o.minimize_screen())},null,8,["header","data"])):p("",!0)],64)}var je=g(Le,[["render",Ye],["__scopeId","data-v-c444683a"]]);const We={name:"Home",components:{SequenceForm:oe,AlignmentResult:Ce,FocusedResult:I,Deck:je},data(){return{count:0,results:[],headers:[],dbnames:[],show:0,fullscreen:!1,deck:!1}},methods:{async run(){this.count=this.$refs.form.$data.db.length;for(var n=0;n<this.count;n++){const e={read:this.$refs.form.$data.read,db:this.$refs.form.$data.db[`${n}`],mismatches:this.$refs.form.$data.mismatches},r=await R.put("/",e);this.headers[n]="input read:		"+this.$refs.form.$data.read+`
read length:	`+this.$refs.form.$data.read.length+`
database:		`+this.$refs.form.$data.db[`${n}`]+`
`,this.dbnames[n]=this.$refs.form.$data.db[`${n}`],this.results[n]=r.data}this.show=1},switch_screen(n){document.getElementById("page").classList.add("focused"),document.getElementById("main").classList.add("blur"),n==="fullscreen"?this.fullscreen=!0:this.deck=!0,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop},minimize_screen(){document.getElementById("main").classList.remove("blur"),document.getElementById("page").classList.remove("focused"),this.fullscreen=!1,this.deck=!1,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}}},He={id:"page",style:{width:"100%",margin:"0",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},Ke={id:"main",class:"main"};function Je(n,e,r,a,s,o){const i=b("SequenceForm"),x=b("AlignmentResult"),_=b("FocusedResult"),A=b("Deck");return d(),l("div",He,[t("div",Ke,[z(i,{ref:"form",onValid:e[0]||(e[0]=m=>o.run())},null,512),(d(!0),l(C,null,F(this.count,m=>u((d(),l("div",{key:m},[z(x,{id:m,data:s.results[m-1],total:this.count,header:s.headers[m-1],onSwapLeft:e[1]||(e[1]=V=>this.show--),onSwapRight:e[2]||(e[2]=V=>this.show++),onFullscreen:e[3]||(e[3]=V=>o.switch_screen("fullscreen")),onDeck:e[4]||(e[4]=V=>o.switch_screen("deck"))},null,8,["id","data","total","header"])])),[[D,m===this.show]])),128))]),this.fullscreen==!0?(d(),k(_,{key:0,header:s.headers[this.show-1],data:s.results[this.show-1],onBack:e[5]||(e[5]=m=>o.minimize_screen())},null,8,["header","data"])):p("",!0),this.deck==!0?(d(),k(A,{key:1,count:this.count,dbnames:s.dbnames,headers:s.headers,results:s.results,onBack:e[6]||(e[6]=m=>o.minimize_screen())},null,8,["count","dbnames","headers","results"])):p("",!0)])}var Qe=g(We,[["render",Je]]);G(Qe).mount("#app");
